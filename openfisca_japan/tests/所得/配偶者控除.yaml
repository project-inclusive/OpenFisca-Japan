# 同一生計配偶者の境界値テスト
- name: 同一生計配偶者である（世帯主が自分、所得の境界値）
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        所得:
          '2023-06-01': 5000000
      配偶者:
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      配偶者:
        同一生計配偶者である: True

- name: 同一生計配偶者でない（世帯主が自分、所得の境界値）
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        所得:
          '2023-06-01': 5000000
      配偶者:
        所得:
          '2023-06-01': 480001
  output:
    世帯員:
      配偶者:
        同一生計配偶者である: False

- name: 同一生計配偶者である（世帯主が配偶者、所得の境界値）
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        所得:
          '2023-06-01': 480000
      配偶者:
        所得:
          '2023-06-01': 5000000
  output:
    世帯員:
      自分:
        同一生計配偶者である: True

- name: 同一生計配偶者でない（世帯主が配偶者、所得の境界値）
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        所得:
          '2023-06-01': 480001
      配偶者:
        所得:
          '2023-06-01': 5000000
  output:
    世帯員:
      自分:
        同一生計配偶者である: False

- name: 同一生計配偶者でない（単身）
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 自分
    世帯員:
      自分:
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      自分:
        同一生計配偶者である: False

- name: 同一生計配偶者である 複数世帯（世帯主が自分、所得の境界値）
  period: 2023-06-01
  input:
    世帯一覧:
      世帯1:
        親一覧:
          - 自分1
          - 配偶者1
      世帯2:
        親一覧:
          - 自分2
          - 配偶者2
    世帯員:
      自分1:
        所得:
          '2023-06-01': 5000000
      配偶者1:
        所得:
          '2023-06-01': 480000
      自分2:
        所得:
          '2023-06-01': 5000000
      配偶者2:
        所得:
          '2023-06-01': 480001
  output:
    世帯員:
      配偶者1:
        同一生計配偶者である: True
      配偶者2:
        同一生計配偶者である: False

- name: 同一生計配偶者である 複数世帯（世帯主が自分、所得の境界値, それぞれの世帯員数が異なる）
  period: 2023-06-01
  input:
    世帯一覧:
      世帯1:
        親一覧:
          - 自分1
          - 配偶者1
        子一覧:
          - 子1
      世帯2:
        親一覧:
          - 自分2
          - 配偶者2
    世帯員:
      自分1:
        所得:
          '2023-06-01': 5000000
      配偶者1:
        所得:
          '2023-06-01': 480000
      子1:
        所得:
          '2023-06-01': 0
      自分2:
        所得:
          '2023-06-01': 5000000
      配偶者2:
        所得:
          '2023-06-01': 480001
  output:
    世帯員:
      配偶者1:
        同一生計配偶者である: True
      配偶者2:
        同一生計配偶者である: False

# 配偶者所得の境界値テスト

- name: 配偶者控除1
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000000
      配偶者1:
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 380000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除2
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000000
      配偶者1:
        所得:
          '2023-06-01': 480001
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 0
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

# 納税者本人（自分）の所得の境界値テスト

- name: 配偶者控除3
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000001
      配偶者1:
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 260000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除4
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9500000
      配偶者1:
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 260000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除5
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9500001
      配偶者1:
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 130000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除6
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 10000000
      配偶者1:
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 130000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除7
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 10000001
      配偶者1:
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 0
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

# 配偶者所得(老人控除対象)の境界値テスト

- name: 配偶者控除(老人控除対象)1
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000000
        誕生年月日: '1953-05-01' # 70歳
      配偶者1:
        誕生年月日: '1953-05-01' # 70歳
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 480000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除(老人控除対象)2
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000000
        誕生年月日: '1953-05-01' # 70歳
      配偶者1:
        所得:
          '2023-06-01': 480001
        誕生年月日: '1953-05-01' # 70歳
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 0
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

# 納税者本人（自分）の所得の境界値テスト

- name: 配偶者控除(老人控除対象)3
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000001
        誕生年月日: '1953-05-01' # 70歳
      配偶者1:
        所得:
          '2023-06-01': 480000
        誕生年月日: '1953-05-01' # 70歳
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 320000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除(老人控除対象)4
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9500000
        誕生年月日: '1953-05-01' # 70歳
      配偶者1:
        所得:
          '2023-06-01': 480000
        誕生年月日: '1953-05-01' # 70歳
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 320000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除(老人控除対象)5
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9500001
        誕生年月日: '1953-05-01' # 70歳
      配偶者1:
        所得:
          '2023-06-01': 480000
        誕生年月日: '1953-05-01' # 70歳
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 160000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除(老人控除対象)6
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 10000000
        誕生年月日: '1953-05-01' # 70歳
      配偶者1:
        所得:
          '2023-06-01': 480000
        誕生年月日: '1953-05-01' # 70歳
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 160000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除(老人控除対象)7
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 10000001
        誕生年月日: '1953-05-01' # 70歳
      配偶者1:
        所得:
          '2023-06-01': 480000
        誕生年月日: '1953-05-01' # 70歳
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 0
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

# 老人控除対象の年齢の境界値テスト

- name: 配偶者控除（老人控除対象ではない）
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000000
        誕生年月日: '1993-05-01' # 30歳(2023/12/31時点)
      配偶者1:
        所得:
          '2023-06-01': 480000
        誕生年月日: '1954-01-01' # 69歳(2023/12/31時点)
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 380000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除（老人控除対象）
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
        - 配偶者1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000000
        誕生年月日: '1993-05-01' # 30歳(2023/12/31時点)
      配偶者1:
        所得:
          '2023-06-01': 480000
        誕生年月日: '1953-12-31' # 70歳(2023/12/31時点)
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 480000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者控除(独身)
  period: 2023-06-01
  input:
    世帯:
      親一覧:
        - 親1
    世帯員:
      親1:
        所得:
          '2023-06-01': 9000000
        誕生年月日: '1993-05-01' # 30歳
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 0

# 複数世帯の配偶者所得のテスト
- name: 配偶者所得(複数世帯)
  period: 2023-06-01
  input:
    世帯一覧:
      世帯1:
        親一覧:
          - 親1
          - 配偶者1
      世帯2:
        親一覧:
          - 親2
          - 配偶者2
    世帯員:
      親1:
        所得:
          '2023-06-01': 9500000 # 9000001~9500000
      配偶者1:
        所得:
          '2023-06-01': 480000
      親2:
        所得:
          '2023-06-01': 9000000 # ~900000
        誕生年月日: '1953-05-01' # 70歳
      配偶者2:
        誕生年月日: '1953-05-01' # 70歳
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 260000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0
      親2:
        配偶者控除:
          '2023-06-01': 480000
      配偶者2:
        配偶者控除:
          '2023-06-01': 0

- name: 配偶者所得(複数世帯, それぞれの世帯員数が異なる)
  period: 2023-06-01
  input:
    世帯一覧:
      世帯1:
        親一覧:
          - 親1
          - 配偶者1
        子一覧:
          - 子1
      世帯2:
        親一覧:
          - 親2
          - 配偶者2
    世帯員:
      親1:
        所得:
          '2023-06-01': 9500000 # 9000001~9500000
      配偶者1:
        所得:
          '2023-06-01': 480000
      子1:
        所得:
          '2023-06-01': 0
      親2:
        所得:
          '2023-06-01': 9000000 # ~900000
        誕生年月日: '1953-05-01' # 70歳
      配偶者2:
        誕生年月日: '1953-05-01' # 70歳
        所得:
          '2023-06-01': 480000
  output:
    世帯員:
      親1:
        配偶者控除:
          '2023-06-01': 260000
      配偶者1:
        配偶者控除:
          '2023-06-01': 0
      子1:
        配偶者控除:
          '2023-06-01': 0
      親2:
        配偶者控除:
          '2023-06-01': 480000
      配偶者2:
        配偶者控除:
          '2023-06-01': 0
