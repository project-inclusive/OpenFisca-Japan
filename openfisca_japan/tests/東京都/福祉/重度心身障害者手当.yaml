# 1号要件の境界値テスト

- name: 愛の手帳等級一度
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 0
        愛の手帳等級: 一度
  output:
    重度心身障害者手当_最大: 60000
    重度心身障害者手当_最小: 0

- name: 愛の手帳等級二度
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 0
        愛の手帳等級: 二度
  output:
    重度心身障害者手当_最大: 60000
    重度心身障害者手当_最小: 0

- name: 愛の手帳等級三度
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 0
        愛の手帳等級: 三度
  output:
    重度心身障害者手当_最大: 0
    重度心身障害者手当_最小: 0

# 2号要件の境界値テスト

- name: 愛の手帳等級一度,身体障害者手帳一級
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 0
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    重度心身障害者手当_最大: 60000
    重度心身障害者手当_最小: 60000

# TODO: 2号要件の境界値テスト

# 3号要件の境界値テスト

- name: 身体障害者手帳一級
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 0
        身体障害者手帳等級: 一級
  output:
    重度心身障害者手当_最大: 60000
    重度心身障害者手当_最小: 0

- name: 身体障害者手帳二級
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 0
        身体障害者手帳等級: 二級
  output:
    重度心身障害者手当_最大: 0
    重度心身障害者手当_最小: 0

# 居住都道府県のテスト

- name: 東京都に住んでいない
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "神奈川県"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 0
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    重度心身障害者手当_最大: 0
    重度心身障害者手当_最小: 0

# 年齢の境界値テスト

- name: 年齢が65歳以上
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 65
        所得: 0
        愛の手帳等級: 一度
  output:
    重度心身障害者手当_最大: 0
    重度心身障害者手当_最小: 0

# 20歳未満、親の扶養に入る場合のテスト

# 所得制限の境界値テスト

- name: 所得制限を超える
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 3704001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    重度心身障害者手当_最大: 0
    重度心身障害者手当_最小: 0

- name: 所得制限以内
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 3704000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    重度心身障害者手当_最大: 60000
    重度心身障害者手当_最小: 60000

# TODO: 扶養人数ごとの所得制限テスト追加

# 所得制限の境界値テスト(控除される場合)

# TODO: 各種控除の条件に当てはまる場合を追加

# 配偶者控除の上限

- name: 配偶者特別控除の上限は33万円（所得制限以内の場合）
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 950000 # 配偶者特別控除 380000
      配偶者:
        年齢: 30
        所得: 4034000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 配偶者特別控除 330000
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: true

- name: 配偶者特別控除の上限は33万円（所得制限を超える場合）
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: "東京都"
      自分一覧:
      - 自分
      配偶者一覧:
      - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 950000 # 配偶者特別控除 380000
      配偶者:
        年齢: 30
        所得: 4034001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 配偶者特別控除 330000
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: false
