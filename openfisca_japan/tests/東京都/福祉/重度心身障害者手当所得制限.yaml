# 配偶者特別控除の上限

- name: 配偶者特別控除の上限は33万円（所得制限以内の場合）
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 950000 # 配偶者特別控除 380000
      配偶者:
        年齢: 30
        所得: 4034000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 配偶者特別控除 330000
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: true

- name: 配偶者特別控除の上限は33万円（所得制限を超える場合）
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 950000 # 配偶者特別控除 380000
      配偶者:
        年齢: 30
        所得: 4034001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 配偶者特別控除 330000
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: false

# 障害者控除

- name: 本人の所得を参照する場合、本人の障害者控除は適用されない
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 3704001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000
        愛の手帳等級: 三度
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: false

- name: 本人の所得を参照する場合、本人以外の障害者控除が適用される
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
        愛の手帳等級: 三度
      配偶者:
        年齢: 30
        所得: 3974000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 270000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: true

- name: 本人の所得を参照する場合、本人以外の障害者控除が適用される(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
        愛の手帳等級: 三度
      配偶者:
        年齢: 30
        所得: 3974001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 270000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: false

- name: 本人以外の所得を参照する場合、本人の障害者控除が適用される
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 4354000 # = 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 270000
      子1:
        年齢: 18
        所得: 0
        愛の手帳等級: 三度
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: true

- name: 本人以外の所得を参照する場合、本人の障害者控除が適用される(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 4354001 # > 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 270000
      子1:
        年齢: 18
        所得: 0
        愛の手帳等級: 三度
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: false

# 特別障害者控除

- name: 本人の所得を参照する場合、本人の特別障害者控除は適用されない
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 3704001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: false

- name: 本人の所得を参照する場合、本人以外の特別障害者控除が適用される
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 0
        所得: 0
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
      配偶者:
        年齢: 30
        所得: 4104000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 特別障害者控除 400000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: true

- name: 本人の所得を参照する場合、本人以外の特別障害者控除が適用される(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 1330001 # 同居特別障害者や配偶者特別控除対象の所得制限をを超える額
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
      配偶者:
        年齢: 30
        所得: 4104001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 特別障害者控除 400000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: false

- name: 本人以外の所得を参照する場合、本人の特別障害者控除が適用される
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 1330001 # 同居特別障害者や配偶者特別控除対象の所得制限をを超える額
      配偶者:
        年齢: 30
        所得: 4484000 # = 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + 特別障害者控除 400000
      子1:
        年齢: 18
        所得: 0
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: true

- name: 本人以外の所得を参照する場合、本人の特別障害者控除が適用される(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
        - 配偶者
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 1330001 # 同居特別障害者や配偶者特別控除対象の所得制限をを超える額
      配偶者:
        年齢: 30
        所得: 4834001 # > 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 750000
      子1:
        年齢: 18
        所得: 0
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      配偶者:
        重度心身障害者手当所得制限: false

# 寡婦控除

- name: 寡婦控除
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
      夫と離別死別: true
    世帯員:
      自分:
        年齢: 30
        所得: 3974000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 寡婦控除 270000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      自分:
        重度心身障害者手当所得制限: true

- name: 寡婦控除(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
      夫と離別死別: true
    世帯員:
      自分:
        年齢: 30
        所得: 3974001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 寡婦控除 270000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
  output:
    世帯員:
      自分:
        重度心身障害者手当所得制限: false

# ひとり親控除の上限

- name: 寡婦控除
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 4434000 # = 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + ひとり親控除 350000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
      子1:
        年齢: 18
        所得: 0
  output:
    世帯員:
      自分:
        重度心身障害者手当所得制限: true

- name: 寡婦控除(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      居住都道府県: '東京都'
      親一覧:
        - 自分
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 4434001 # > 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + ひとり親控除 350000
        愛の手帳等級: 一度
        身体障害者手帳等級: 一級
      子1:
        年齢: 18
        所得: 0
  output:
    世帯員:
      自分:
        重度心身障害者手当所得制限: false
# 勤労学生控除の条件を満たし所得制限を超えるパターンは存在しないため省略

# 複数世帯

- name: 複数世帯の場合
  period: 2023-07-01
  input:
    世帯一覧:
      世帯1:
        居住都道府県: '東京都'
        親一覧:
          - 自分1
          - 配偶者1
      世帯2:
        居住都道府県: '東京都'
        親一覧:
          - 自分2
          - 配偶者2
    世帯員:
      自分1:
        年齢: 30
        所得: 950000 # 配偶者特別控除 380000
      配偶者1:
        年齢: 30
        所得: 4034000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 配偶者特別控除 330000
      自分2:
        年齢: 30
        所得: 0
      配偶者2:
        年齢: 30
        所得: 3704001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000
        愛の手帳等級: 三度
  output:
    世帯員:
      配偶者1:
        重度心身障害者手当所得制限: true
      配偶者2:
        重度心身障害者手当所得制限: false
