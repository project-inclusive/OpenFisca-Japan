# 配偶者特別控除の上限

- name: 配偶者特別控除の上限は33万円（所得制限以内の場合）
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 950000 # 配偶者特別控除 380000
      配偶者:
        年齢: 30
        所得: 4034000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 配偶者特別控除 330000
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: true

- name: 配偶者特別控除の上限は33万円（所得制限を超える場合）
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 950000 # 配偶者特別控除 380000
      配偶者:
        年齢: 30
        所得: 4034001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 配偶者特別控除 330000
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: false

# 障害者控除

- name: 本人の所得を参照する場合、本人の障害者控除は適用されない
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 3704001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: false

- name: 本人の所得を参照する場合、本人以外の障害者控除が適用される
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
        身体障害者手帳等級: 三級
      配偶者:
        年齢: 30
        所得: 3974000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 270000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: true

- name: 本人の所得を参照する場合、本人以外の障害者控除が適用される(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
        身体障害者手帳等級: 三級
      配偶者:
        年齢: 30
        所得: 3974001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 270000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: false

- name: 本人以外の所得を参照する場合、本人の障害者控除が適用される
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 4354000 # = 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 270000
      子1:
        年齢: 18
        所得: 0
        愛の手帳等級: 三度
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: true

- name: 本人以外の所得を参照する場合、本人の障害者控除が適用される(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 4354001 # > 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + 障害者控除 270000
      子1:
        年齢: 5
        所得: 0
        愛の手帳等級: 三度
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: false

# 特別障害者控除
# TODO: 同居特別障害者の場合の控除額(750000)は特別障害者の場合(400000)に補正される？

- name: 本人の所得を参照する場合、本人の特別障害者控除は適用されない
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
      配偶者:
        年齢: 30
        所得: 3704001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: false

- name: 本人の所得を参照する場合、本人以外の特別障害者控除が適用される
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
      配偶者:
        年齢: 30
        所得: 4454000 # <= 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 特別障害者控除 750000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: true

- name: 本人の所得を参照する場合、本人以外の特別障害者控除が適用される(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
      配偶者:
        年齢: 30
        所得: 4454001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 特別障害者控除 750000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: false

- name: 本人以外の所得を参照する場合、本人の特別障害者控除が適用される
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
      配偶者:
        年齢: 30
        所得: 4454000 # <= 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 特別障害者控除 750000
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: true

- name: 本人以外の所得を参照する場合、本人の特別障害者控除が適用される(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        年齢: 30
        所得: 0
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
      配偶者:
        年齢: 30
        所得: 4454001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 特別障害者控除 750000
  output:
    世帯員:
      配偶者:
        特別障害者手当所得制限: false

# 寡婦控除

- name: 寡婦控除
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
      夫と離別死別: true
    世帯員:
      自分:
        年齢: 30
        所得: 3974000 # = 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 寡婦控除 270000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
  output:
    世帯員:
      自分:
        特別障害者手当所得制限: true

- name: 寡婦控除(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
      夫と離別死別: true
    世帯員:
      自分:
        年齢: 30
        所得: 3974001 # > 所得制限 3604000 + 給与所得及び雑所得からの控除額 100000 + 寡婦控除 270000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
  output:
    世帯員:
      自分:
        特別障害者手当所得制限: false

# ひとり親控除の上限

- name: ひとり親控除
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 4434000 # = 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + ひとり親控除 350000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
      子1:
        年齢: 18
        所得: 0
  output:
    世帯員:
      自分:
        特別障害者手当所得制限: true

- name: ひとり親控除(所得制限を超える場合)
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 30
        所得: 4434001 # > 所得制限 3984000 + 給与所得及び雑所得からの控除額 100000 + ひとり親控除 350000
        身体障害者手帳等級: 一級
        精神障害者保健福祉手帳等級: 一級
      子1:
        年齢: 5
        所得: 0
  output:
    世帯員:
      自分:
        特別障害者手当所得制限: false

# 勤労学生控除の条件を満たし所得制限を超えるパターンは存在しないため省略
