# 勤労控除のテスト
- name: 勤労控除
  period: 2023-07-01
  input:
    生活保護基礎控除: 15000
    新規就労控除: 11700
    未成年者控除: 11600
  output:
    勤労控除: 38300

# 基礎控除のテスト

# 基礎控除のテスト: 額と控除割合のテスト
- name: 新規就労者が1名,月収0円
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
    世帯員:
      自分:
        収入: 0
  output:
    生活保護基礎控除: 0

- name: 新規就労者が1名,月収10000円
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
    世帯員:
      自分:
        収入: 120000 # 1万 * 12か月
  output:
    生活保護基礎控除: 10000

- name: 新規就労者が1名,月収15000円
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
    世帯員:
      自分:
        収入: 180000 # 1.5万 * 12か月
  output:
    生活保護基礎控除: 15000

- name: 新規就労者が1名,月収25000円
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
    世帯員:
      自分:
        収入: 300000 # 2.5万 * 12か月
  output:
    生活保護基礎控除: 16000

# 基礎控除のテスト: 世帯人数のテスト
- name: 新規就労者が2名,月収15000円, 15000円
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        収入: 180000 # 1.5万 * 12か月
      配偶者:
        収入: 180000 # 1.5万 * 12か月
  output:
    生活保護基礎控除: 30000

- name: 新規就労者が2名,月収45000円, 35000円
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        収入: 540000 # 4.5万 * 12か月
      配偶者:
        収入: 420000 # 3.5万 * 12か月
  output:
    生活保護基礎控除: 33000 # 18000 + 15000

- name: 新規就労者が2名,月収65000円, 41000円
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        収入: 780000 # 6.5万 * 12か月
      配偶者:
        収入: 180000 # 1.5万 * 12か月
  output:
    生活保護基礎控除: 35000 # 20000 + 15000

- name: 新規就労者が3名,月収15000円, 15000円, 15000円
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
      子一覧:
        - 子1
    世帯員:
      自分:
        収入: 180000 # 1.5万 * 12か月
      配偶者:
        収入: 180000 # 1.5万 * 12か月
      子1:
        収入: 180000 # 1.5万 * 12か月
  output:
    生活保護基礎控除: 45000

- name: 新規就労者の複数世帯テスト
  period: 2023-07-01
  input:
    世帯一覧:
      世帯1:
        親一覧:
          - 自分1
      世帯2:
        親一覧:
          - 自分2
          - 配偶者2
    世帯員:
      自分1:
        収入: 300000 # 2.5万 * 12か月
      自分2:
        収入: 180000 # 1.5万 * 12か月
      配偶者2:
        収入: 180000 # 1.5万 * 12か月
  output:
    世帯一覧:
      世帯1:
        生活保護基礎控除: 16000
      世帯2:
        生活保護基礎控除: 30000

# 新規就労控除のテスト
- name: 新規就労者が0名
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
    世帯員:
      自分:
        六か月以内に新規就労: false
  output:
    新規就労控除: 0

- name: 新規就労者が1名
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        六か月以内に新規就労: true
      配偶者:
        六か月以内に新規就労: false
  output:
    新規就労控除: 11700

- name: 新規就労者が2名
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
        - 配偶者
    世帯員:
      自分:
        六か月以内に新規就労: true
      配偶者:
        六か月以内に新規就労: true
  output:
    新規就労控除: 23400

# 未成年者控除のテスト
- name: 未成年就労者が0名(未成年の世帯員がいない)
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 40
        収入: 600000
      子1:
        年齢: 18
        収入: 600000
  output:
    未成年者控除: 0

- name: 未成年就労者が0名(未成年の世帯員はいるが就労していない)
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 40
        収入: 600000
      子1:
        年齢: 17
        収入: 0
  output:
    未成年者控除: 0

- name: 未成年就労者が1名
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
      子一覧:
        - 子1
    世帯員:
      自分:
        年齢: 40
        収入: 600000
      子1:
        年齢: 17
        収入: 600000
  output:
    未成年者控除: 11600

- name: 未成年就労者が2名
  period: 2023-07-01
  input:
    世帯:
      親一覧:
        - 自分
      子一覧:
        - 子1
        - 子2
    世帯員:
      自分:
        年齢: 40
        収入: 600000
      子1:
        年齢: 17
        収入: 600000
      子2:
        年齢: 16
        収入: 600000
  output:
    未成年者控除: 23200

- name: 複数世帯テスト
  period: 2023-07-01
  input:
    世帯一覧:
      世帯1:
        親一覧:
          - 自分1
          - 配偶者1
      世帯2:
        親一覧:
          - 自分2
          - 配偶者2
    世帯員:
      自分1:
        六か月以内に新規就労: true
      配偶者1:
        六か月以内に新規就労: false
      自分2:
        六か月以内に新規就労: true
      配偶者2:
        六か月以内に新規就労: true
  output:
    世帯一覧:
      世帯1:
        新規就労控除: 11700
      世帯2:
        新規就労控除: 23400
